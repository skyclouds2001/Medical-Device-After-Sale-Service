<view class="search">
  <view class="search-bar">
    <input class="input" model:value="{{ keywords }}" always-embed />
    <view class="placeholder">
      <van-icon name="search" size="32rpx" custom-style="font-weight: bold;" />
      <text hidden="{{ keywords.length !== 0 }}" decode>&nbsp;搜索产品名称</text>
    </view>
  </view>
  <view class="filter-bar">
    <view class="block" bind:tap="handleOpen">
      <text>筛选</text>
      <van-icon name="filter-o" />
    </view>
  </view>
</view>

<van-popup show="{{ show }}" position="top" root-portal bind:close="handleClose">
  <view class="container">
    <view class="item">
      <text class="title">按时间排序</text>
    </view>
    <view class="item">
      <view class="selector {{ order === 0 ? 'active' : '' }}" mark:id="{{ 0 }}" bind:tap="handleTimeSort">
        时间降序
        <van-icon name="arrow-up" />
      </view>
      <view class="selector {{ order === 1 ? 'active' : '' }}" mark:id="{{ 1 }}" bind:tap="handleTimeSort">
        时间升序
        <van-icon name="arrow-down" />
      </view>
    </view>
    <view class="item">
      <text class="title">按工单状态选择</text>
    </view>
    <view class="item">
      <text class="selector {{ status === 0 ? 'active' : '' }}" mark:id="{{ 0 }}" bind:tap="handleWorkOrderStatusSelect">未处理</text>
      <text class="selector {{ status === 1 ? 'active' : '' }}" mark:id="{{ 1 }}" bind:tap="handleWorkOrderStatusSelect">已处理</text>
    </view>
    <view class="item">
      <button class="button plain" bind:tap="handleReset">重置</button>
      <button class="button" bind:tap="handleFilter">确定</button>
    </view>
  </view>
</van-popup>
